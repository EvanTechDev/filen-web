import{r as K,j as W,am as X,an as Y,l as Z,ao as G,ap as j}from"./index-WHS-zVl3.js";const J="Error preloading route! \u261D\uFE0F";function ee(a){const n=X(),v=Y({strict:!1,select:e=>e.pathname}),{activeProps:i=()=>({className:"active"}),inactiveProps:u=()=>({}),activeOptions:o,hash:oe,search:re,params:ne,to:y,state:se,mask:le,preload:C,preloadDelay:D,replace:F,startTransition:R,resetScroll:B,children:A,target:c,disabled:s,style:T,className:L,onClick:k,onFocus:g,onMouseEnter:x,onMouseLeave:M,onTouchStart:P,...S}=a,b={from:a.to?v:void 0,...a};let d="internal";try{new URL(`${y}`),d="external"}catch{}const r=n.buildLocation(b),E=C??n.options.defaultPreload,H=D??n.options.defaultPreloadDelay??0,p=Z({select:e=>{const t=e.location.pathname.split("/"),f=r.pathname.split("/").every((Q,V)=>Q===t[V]),q=o!=null&&o.exact?e.location.pathname===r.pathname:f,z=o!=null&&o.includeHash?e.location.hash===r.hash:!0,I=(o==null?void 0:o.includeSearch)??!0?G(e.location.search,r.search,!(o!=null&&o.exact)):!0;return q&&z&&I}});if(d==="external")return{...S,type:d,href:y,children:A,target:c,disabled:s,style:T,className:L,onClick:k,onFocus:g,onMouseEnter:x,onMouseLeave:M,onTouchStart:P};const O=e=>{!s&&!ae(e)&&!e.defaultPrevented&&(!c||c==="_self")&&e.button===0&&(e.preventDefault(),n.commitLocation({...r,replace:F,resetScroll:B,startTransition:R}))},N=()=>{K.startTransition(()=>{n.preloadRoute(b).catch(e=>{console.warn(e),console.warn(J)})})},w=e=>{s||E&&N()},U=w,_=e=>{if(s)return;const t=e.target||{};if(E){if(t.preloadTimeout)return;t.preloadTimeout=setTimeout(()=>{t.preloadTimeout=null,N()},H)}},$=e=>{if(s)return;const t=e.target||{};t.preloadTimeout&&(clearTimeout(t.preloadTimeout),t.preloadTimeout=null)},l=e=>t=>{t.persist&&t.persist(),e.filter(Boolean).forEach(f=>{t.defaultPrevented||f(t)})},h=p?j(i,{})??{}:{},m=p?{}:j(u,{})??{};return{...h,...m,...S,href:s?void 0:r.maskedLocation?r.maskedLocation.href:r.href,onClick:l([k,O]),onFocus:l([g,w]),onMouseEnter:l([x,_]),onMouseLeave:l([M,$]),onTouchStart:l([P,U]),target:c,style:{...T,...h.style,...m.style},className:[L,h.className,m.className].filter(Boolean).join(" ")||void 0,...s?{role:"link","aria-disabled":!0}:void 0,"data-status":p?"active":void 0}}const te=K.forwardRef((a,n)=>{const{type:v,...i}=ee(a),u=typeof a.children=="function"?a.children({isActive:i["data-status"]==="active"}):a.children;return W.jsx("a",{...i,ref:n,children:u})});function ae(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}export{te as L};
